AiAgentProcess

Термины:
сообщение - текстовое сообщение обмена информацией меду агентами и БЗ.
команда - последовательность действий, которая выполняется относительно быстро
задание - сложная последовательность действий, с запросами к пользователю и внешней среде,
  с формированием подзаданий и т.д.
глобальное задание - глобальные основопологающие задания. Например:
  узнать есть ли Бог,
  узнать есть ли инопланетяне,
  учиться, развиваться.

Процесс выполнения команд для агентов спроектирован таким образом, что
можно завершить работу программы и продолжить выполнение с того места где закончили.
Процесс выполнения сохраняется в ComandLine.
(еще не реализовано)

Агент работает взаимодействует с другими агентами, БЗ, и внешней средой только
путем обмена сообщениями в виде текстовой строки.
Формат строки регламентируется языком AQL.

В агенте реализована работа с конвеером сообщений,
с конвеером команд,
с конвеером заданий и
с конвеером глобальных заданий.
(еще не реализовано)

Работа агента реализуется следующим образом (выполняем по порядку):
1. Рассматривается конвеер сообщений
  1.1. выделяются запросы
    на запрос о состоянии, параметрах и т.д. ответ отправляется сразу
  1.2. выделяются команды
    команды помещаются в конвеер команд
    если конвеер команд переполнен, то отправляется ответ с ошибкой
  1.3. выделяются задания
    задания помещаются в конвеер заданий
    если конвеер заданий переполнен, то отправляется ответ с ошибкой
2. Выполнение команды
  2.1. если список команд пуст, то goto 3
  2.2. выполняем одну команду
  2.3. после выполнения команды goto 1
3. Выполнение задания
  3.1. если список заданий пуст, то goto 4
  3.2. выполняем одно или несколько небольших действий для выполнения задания
  3.3. goto 1
4. Выполнение глобального задания
  3.1. выполняем одно или несколько небольших действий для выполнения глобального задания
  3.2. goto 1
